package astmanipulation

import (
	"errors"
	"os"
	"syscall"
)

// Test inline comment preservation
func InlineComments() {
	var err error

	if errors.Is(err, syscall.ENOENT) { // want "comparing with == will fail on wrapped errors. Use errors.Is to check for a specific error"
		// This block comment should be preserved
		println("File not found")
	}
}

// Test else-if comment preservation (main PR issue)
func ElseIfComments() {
	var err error

	if err != nil {
		println("error occurred")
	} else {
		e := &os.PathError{}
		if errors.As(err, &e) && errors.Is(e.Err, syscall.ESRCH) {
			println("Process not found")
		}
	}
}

// Test block comments
func BlockComments() {
	var err error

	/* Pre-condition block comment */
	e := &os.PathError{}
	if errors.As(err, &e) { // want "type assertion on error will fail on wrapped errors. Use errors.As to check for specific errors"
		/* Inline block comment */ println("Path error:", e.Path)
	}
}